<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SOB Builder Weight Calculator</title>
  <style>
    :root {
      color-scheme: dark;
    }
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background-color: #121212;
      color: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
    .container {
      width: 100%;
      max-width: 500px;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
    }
    h2 {
      color: #00ccff;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin: 15px 0 5px;
      text-align: left;
    }
    select {
      width: 100%;
      padding: 10px;
      font-size: 1rem;
      background-color: #1e1e1e;
      color: #f0f0f0;
      border: 1px solid #444;
      border-radius: 4px;
    }
    h3 {
      margin-top: 30px;
      color: #00ff66;
      font-size: 1.8em;
    }
    p {
      font-size: 0.9em;
      color: #999;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>S.O.B. Weight Calculator</h2>
    <label>Bodies:
      <select id="budget" onchange="handleBudgetChange()">
        <option value="">-- Select Body --</option>
        <option value="budget">Budget</option>
        <option value="premium">Premium</option>
      </select>
    </label>

    <div id="budgetStyles" class="hidden">
      <label>Body Style:
        <select id="budgetBodyStyle" onchange="handleBudgetBodyStyle()">
          <option value="">-- Select Style --</option>
          <option value="standard">Standard</option>
          <option value="divot">Divot</option>
          <option value="slim">Slim</option>
          <option value="trider">Trider</option>
          <option value="slimtrider">Slim Trider</option>
        </select>
      </label>
    </div>

    <div id="premiumStyles" class="hidden">
      <label>Body Style:
        <select id="premiumBodyStyle" onchange="handlePremiumBodyStyle()">
          <option value="">-- Select Style --</option>
          <option value="standard">Standard</option>
          <option value="slim">Slim</option>
        </select>
      </label>
    </div>

    <div id="styleOptions"></div>

    <h3><span id="total">8.00</span>g</h3>
    <p>* Includes 8g for o-rings and magnets</p>
  </div>

  <script>
    function handlePremiumBodyStyle() {
      const style = document.getElementById('premiumBodyStyle').value;
      clearStyleOptions();
      let html = '';
      if (style === 'standard') {
        const bodyMaterials = ['Aluminum', 'Brass', 'Copper', 'Ultem', 'Crystal Titanium', 'Stainless Steel', 'Zirconium'];
        html += buildMaterialSelect('Premium Body Material', bodyMaterials);
        html += `<div id="crystalTitaniumColorContainer" class="hidden">${buildColorSelect('Crystal Titanium Color', ['RAW', 'Purple', 'Blue', 'Green'])}</div>`;
        html += buildInlaySelect();
        html += buildCageSelect();
        html += buildPlateSelect();

        // Add listener to show color dropdown when Crystal Titanium is selected
        setTimeout(() => {
          const matSelect = document.querySelector("select[label='Premium Body Material']") || document.querySelector("select:contains('Premium Body Material')");
          if (matSelect) {
            matSelect.addEventListener('change', () => {
              const show = matSelect.value === 'Crystal Titanium';
              document.getElementById('crystalTitaniumColorContainer').classList.toggle('hidden', !show);
              updateWeight();
            });
          }
        }, 0);

      } else if (style === 'slim') {
        html += buildDidgetSelect();
        html += buildCageSelect();
        html += buildPlateSelect();
      }
      document.getElementById('styleOptions').innerHTML = html;
    }

    
  </script>
</body>
</html>
