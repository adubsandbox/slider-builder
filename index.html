<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SOB Builder Weight Calculator</title>
  <style>
    :root {
      color-scheme: dark;
    }
    body {
      font-family: sans-serif;
      padding: 20px;
      background-color: #121212;
      color: #f0f0f0;
    }
    label {
      display: block;
      margin: 15px 0 5px;
    }
    select {
      width: 100%;
      max-width: 400px;
      padding: 10px;
      font-size: 1rem;
      background-color: #1e1e1e;
      color: #f0f0f0;
      border: 1px solid #444;
      border-radius: 4px;
    }
    h2 {
      margin-bottom: 10px;
    }
    h3, p {
      margin-top: 20px;
    }
    .hidden {
      display: none;
    }
    @media (min-width: 600px) {
      select {
        font-size: 1.1rem;
      }
    }
  </style>
</head>
<body>
  <h2>SOB Builder Weight Calculator</h2>

  <label>Body Budget:
    <select id="budget" onchange="handleBudgetChange()">
      <option value="">Select...</option>
      <option value="budget">Budget</option>
      <option value="premium">Premium</option>
    </select>
  </label>

  <div id="budgetStyles" class="hidden">
    <label>Body Style:
      <select id="budgetBodyStyle" onchange="handleBudgetBodyStyle()">
        <option value="">Select...</option>
        <option value="standard">Standard</option>
        <option value="divot">Divot</option>
        <option value="slim">Slim</option>
        <option value="trider">Trider</option>
        <option value="slimtrider">Slim Trider</option>
      </select>
    </label>
  </div>

  <div id="premiumStyles" class="hidden">
    <label>Body Style:
      <select id="premiumBodyStyle" onchange="handlePremiumBodyStyle()">
        <option value="">Select...</option>
        <option value="standard">Standard</option>
        <option value="slim">Slim</option>
      </select>
    </label>
  </div>

  <div id="styleOptions"></div>

  <h3>Total Weight: <span id="total">8</span>g</h3>
  <p>(Includes 8g for magnets & o-rings)</p>

  <script>
    const weightMap = {
      '3D Print': 11,
      '3D Print Divot': 12,
      '3D Print Slim': 8,
      'SS': 56,
      'SS Slim': 48,
      'Ti': 2,
      'Zirc': 2,
      'Al': 1,
      'Cu': 4,
      'Aluminum - Light': 6,
      'Stainless Steel - Heavy': 7,
      'Brass - Heaviest': 20,
      'ED TPU Cage Set': 2,
      'Stainless Steel': 11,
      'Zirconium': 12,
      'Teflon Beta Plates': 15,
      'Pro Stainless Steel Plates': 16,
      'Pro Swoosh Stainless Steel Plates': 14,
      'Pro Zirconium Plates': 12,
      'Carbon Fiber Weave': 1,
      'Forged Carbon Fiber': 1,
      'Brass': 4,
      'Copper': 4,
      'Flamed Copper': 4,
      'Raw Titanium': 2,
      'Flamed Titanium': 2,
      'Purple Titanium': 2,
      'Blue Titanium': 2,
      'Yellow Titanium': 2,
      'Acid Titanium': 2,
      'Zirconium Inlay': 2
    };

    function clearStyleOptions() {
      document.getElementById('styleOptions').innerHTML = '';
    }

    function handleBudgetChange() {
      const budget = document.getElementById('budget').value;
      document.getElementById('budgetStyles').classList.add('hidden');
      document.getElementById('premiumStyles').classList.add('hidden');
      clearStyleOptions();

      if (budget === 'budget') {
        document.getElementById('budgetStyles').classList.remove('hidden');
      } else if (budget === 'premium') {
        document.getElementById('premiumStyles').classList.remove('hidden');
      }
      updateWeight();
    }

    function handleBudgetBodyStyle() {
      const style = document.getElementById('budgetBodyStyle').value;
      clearStyleOptions();
      let html = '';
      if (style === 'standard') {
        html += buildColorSelect('Body Color', ['black', 'blue', 'green', 'red', 'white', 'yellow', 'pink']);
        html += buildCageSelect();
        html += buildPlateSelect();
      } else if (style === 'divot') {
        html += buildColorSelect('Divot Color', ['black', 'white', 'green']);
        html += buildInlaySelect();
        html += buildCageSelect();
        html += buildPlateSelect();
      } else if (style === 'slim') {
        html += buildColorSelect('Slim Color', ['black', 'white', 'green silver', 'red', 'yellow', 'light blue', 'shifting green', 'shifting red', 'green glow', 'blue glow']);
        html += buildDidgetSelect();
        html += buildCageSelect();
        html += buildPlateSelect();
      } else if (style === 'trider') {
        html += buildColorSelect('Trider Body Color', ['black', 'green', 'red', 'blue', 'yellow', 'pink', 'white']);
        html += buildCageSelect(['Aluminum - Light', 'Stainless Steel - Heavy', 'Brass - Heaviest']);
        html += buildPlateSelect(['Stainless Steel']);
      } else if (style === 'slimtrider') {
        html += buildColorSelect('Slim Trider Color', ['black', 'silver']);
        html += buildDidgetSelect();
        html += buildCageSelect(['Aluminum - Light', 'Stainless Steel - Heavy', 'Brass - Heaviest']);
        html += buildPlateSelect(['Stainless Steel']);
      }
      document.getElementById('styleOptions').innerHTML = html;
    }

    function handlePremiumBodyStyle() {
      const style = document.getElementById('premiumBodyStyle').value;
      clearStyleOptions();
      let html = '';
      if (style === 'standard') {
        html += buildMaterialSelect('Premium Body Material', ['Aluminum', 'Brass', 'Copper', 'Ultem', 'Crystal Titanium', 'Stainless Steel', 'Zirconium']);
        html += buildInlaySelect();
        html += buildCageSelect();
        html += buildPlateSelect();
      } else if (style === 'slim') {
        html += buildDidgetSelect();
        html += buildCageSelect();
        html += buildPlateSelect();
      }
      document.getElementById('styleOptions').innerHTML = html;
    }

    function buildColorSelect(label, options) {
      const capitalizedOptions = options.map(o => o.charAt(0).toUpperCase() + o.slice(1));
      return `
        <label>${label}:
          <select onchange="updateWeight()">
            <option value="">Select...</option>
            ${capitalizedOptions.map(o => `<option value="${o}">${o}</option>`).join('')}
          </select>
        </label>
      `;
    }

    function buildCageSelect(overrideOptions) {
      const options = overrideOptions || ['Aluminum - Light', 'Stainless Steel - Heavy', 'Brass - Heaviest', 'ED TPU Cage Set'];
      return buildColorSelect('Magnet Cage', options);
    }

    function buildPlateSelect(overrideOptions) {
      const options = overrideOptions || ['Stainless Steel', 'Zirconium', 'Teflon Beta Plates', 'Pro Stainless Steel Plates', 'Pro Swoosh Stainless Steel Plates', 'Pro Zirconium Plates'];
      return buildColorSelect('Plate Material', options);
    }

    function buildInlaySelect() {
      const options = ['Carbon Fiber Weave', 'Forged Carbon Fiber', 'Brass', 'Copper', 'Flamed Copper', 'Raw Titanium', 'Flamed Titanium', 'Purple Titanium', 'Blue Titanium', 'Yellow Titanium', 'Acid Titanium', 'Zirconium Inlay'];
      return buildColorSelect('Inlay Material', options);
    }

    function buildDidgetSelect() {
      const options = ['Aluminum', 'Brass', 'Copper', 'Ti', 'Blue Ti', 'Purple Ti', 'Yellow Ti', 'Flame Ti', 'Acid Ti'];
      return buildColorSelect('Slim Didget Material', options);
    }

    function buildMaterialSelect(label, options) {
      return buildColorSelect(label, options);
    }

    function updateWeight() {
      let base = 8;
      let selects = document.querySelectorAll('#styleOptions select');
      let total = base;
      selects.forEach(sel => {
        let val = sel.value;
        if (val && weightMap[val]) {
          total += weightMap[val];
        }
      });
      document.getElementById('total').innerText = total;
    }
  </script>
</body>
</html>
