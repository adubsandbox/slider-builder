<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SOB Builder Weight Calculator</title>
  <style>
    :root {
      color-scheme: dark;
    }
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #121212;
      color: #f0f0f0;
      
    }
    .container {
      width: 100%;
      max-width: 500px;
      padding: 20px;
      box-sizing: border-box;
      margin: 0 auto;
      text-align: center;
    }
    h2 {
      color: #00ccff;
      margin-bottom: 20px;
    }
    label {$1text-align: center;
    }
    select {
      max-width: 400px;
      display: block;
      margin: 0 auto;

      width: 100%;
      padding: 10px;
      font-size: 1rem;
      background-color: #1e1e1e;
      color: #f0f0f0;
      border: 1px solid #444;
      border-radius: 4px;
    
    }
    h3 {
      margin-top: 30px;
      color: #00ff66;
      font-size: 1.8em;
    }
    p {
      font-size: 0.9em;
      color: #999;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
  <p style="font-size: 0.85em; color: #ff4c4c; margin-bottom: 10px;">* Red options indicate weight is TBD (0g placeholder)</p>
    <h2>S.O.B. Weight Calculator</h2>
    <p style="font-size: 0.95em;"><strong>Slider Sizes</strong><br>Regular: 30mm Ã— 46mm Ã— 18mm<br>Slim: 30mm Ã— 46mm Ã— 14mm</p>
    <label>Body Budget:
      <select id="budget" onchange="handleBudgetChange()">
        <option value="">-- Select Budget --</option>
        <option value="budget">Budget</option>
        <option value="premium">Premium</option>
      </select>
    </label>

    <div id="budgetStyles" class="hidden">
      <label>Body Style:
        <select id="budgetBodyStyle" onchange="handleBudgetBodyStyle()">
          <option value="">-- Select Style --</option>
          <option value="3D Print">Standard 3D Print (11g)</option>
          <option value="3D Print Divot">3D Print Divot (12g)</option>
          <option value="3D Print Slim">3D Print Slim (8g)</option>
          <option value="trider">3D Trider (TBD)</option>
          <option value="slimtrider">3D Slim Trider (TBD)</option>
        </select>
      </label>
    </div>

    <div id="premiumStyles" class="hidden">
      <label>Body Style:
        <select id="premiumBodyStyle" onchange="handlePremiumBodyStyle()">
          <option value="">-- Select Style --</option>
          <option value="standard">Standard</option>
          <option value="slim">Slim</option>
        </select>
      </label>
    </div>

    <div id="styleOptions"></div>

    <h3><span id="total">8.00</span>g</h3>
    <p>* Includes 8g for o-rings and magnets</p>
    <a href="https://www.fidgetthings.com/products/s-o-b-builder" target="_blank" style="display: block; margin-top: 20px; color: #00ccff; text-decoration: none; font-size: 0.95em;">ðŸ”— Open the Official FidgetThings S.O.B. Builder</a>
  </div>
  </div>

  <script>
    const weightMap = {
      'Aluminum': 0,
      'Copper': 0,
      'Ultem': 0,
      'Crystal Titanium': 0,
      'Stainless Steel': 0,
      'Zirconium': 0,
      'Brass (Premium)': 60,
      '3D Print': 11,
      '3D Print Divot': 12,
      '3D Print Slim': 8,
      'SS': 56,
      'SS Slim': 48,
      'Ti': 2,
      'Zirc': 2,
      'Al': 1,
      'Cu': 4,
      'Aluminum - Light': 6,
      'Stainless Steel - Heavy': 7,
      'Brass - Heaviest': 20,
      'ED TPU Cage Set': 2,
      'Stainless Steel': 11,
      'Zirconium': 12,
      'Teflon Beta Plates': 15,
      'Pro Stainless Steel Plates': 16,
      'Pro Swoosh Stainless Steel Plates': 14,
      'Pro Zirconium Plates': 12,
      'Carbon Fiber Weave': 1,
      'Forged Carbon Fiber': 1,
      'Brass': 4,
      'Copper': 4,
      'Flamed Copper': 4,
      'Raw Titanium': 2,
      'Flamed Titanium': 2,
      'Purple Titanium': 2,
      'Blue Titanium': 2,
      'Yellow Titanium': 2,
      'Acid Titanium': 2,
      'Zirconium Inlay': 2
    };

    function clearStyleOptions() {
      document.getElementById('styleOptions').innerHTML = '';
    }

    function handleBudgetChange() {
      const budget = document.getElementById('budget').value;
      document.getElementById('budgetStyles').classList.add('hidden');
      document.getElementById('premiumStyles').classList.add('hidden');
      clearStyleOptions();

      if (budget === 'budget') {
        document.getElementById('budgetStyles').classList.remove('hidden');
      } else if (budget === 'premium') {
        document.getElementById('premiumStyles').classList.remove('hidden');
      }
      updateWeight();
    }

    function handleBudgetBodyStyle() {
      const style = document.getElementById('budgetBodyStyle').value;
      clearStyleOptions();
      let html = '';
      if (style === '3D Print') {
        html += buildColorSelect('Body Color', ['black', 'blue', 'green', 'red', 'white', 'yellow', 'pink']);
        html += buildCageSelect();
        html += buildPlateSelect();
      } else if (style === '3D Print Divot') {
        html += buildColorSelect('Divot Color', ['black', 'white', 'green']);
        html += buildInlaySelect();
        html += buildCageSelect();
        html += buildPlateSelect();
      } else if (style === '3D Print Slim') {
        html += buildColorSelect('Slim Color', ['black', 'white', 'green silver', 'red', 'yellow', 'light blue', 'shifting green', 'shifting red', 'green glow', 'blue glow']);
        html += buildDidgetSelect();
        html += buildCageSelect();
        html += buildPlateSelect();
      } else if (style === 'trider') {
        html += buildColorSelect('Trider Body Color', ['black', 'green', 'red', 'blue', 'yellow', 'pink', 'white']);
        html += buildCageSelect(['Aluminum - Light', 'Stainless Steel - Heavy', 'Brass - Heaviest']);
        html += buildPlateSelect(['Stainless Steel']);
      } else if (style === 'slimtrider') {
        html += buildColorSelect('Slim Trider Color', ['black', 'silver']);
        html += buildDidgetSelect();
        html += buildCageSelect(['Aluminum - Light', 'Stainless Steel - Heavy', 'Brass - Heaviest']);
        html += buildPlateSelect(['Stainless Steel']);
      }
      document.getElementById('styleOptions').innerHTML = html;
    }

    function handlePremiumBodyStyle() {
      const style = document.getElementById('premiumBodyStyle').value;
      clearStyleOptions();
      let html = '';
      if (style === 'standard') { // Premium Standard logic
        const bodyMaterials = [
  { value: 'Brass (Premium)', label: 'Brass (Premium)', weight: 60 },
  { value: 'Aluminum', label: 'Aluminum (TBD)', weight: null },
  { value: 'Copper', label: 'Copper (TBD)', weight: null },
  { value: 'Ultem', label: 'Ultem (TBD)', weight: null },
  { value: 'Crystal Titanium', label: 'Crystal Titanium (TBD)', weight: null },
  { value: 'Stainless Steel', label: 'Stainless Steel (TBD)', weight: null },
  { value: 'Zirconium', label: 'Zirconium (TBD)', weight: null }
];
        html += `<label>Premium Body Material:
  <select onchange="updateWeight()">
    <option value="">Select...</option>
    ${bodyMaterials.map(mat => `<option value="${mat.value}" ${mat.weight === null ? 'disabled' : ''}>${mat.label}${mat.weight ? ` (${mat.weight}g)` : ''}</option>`).join('')}
  </select>
</label>`;
        html += `<div id="crystalTitaniumColorContainer" class="hidden">${buildColorSelect('Crystal Titanium Color', ['RAW', 'Purple', 'Blue', 'Green'])}</div>`;
        html += buildInlaySelect();
        html += buildCageSelect();
        html += buildPlateSelect();

        setTimeout(() => {
          const selects = document.querySelectorAll('#styleOptions select');
      selects.forEach(sel => {
            sel.addEventListener('change', () => {
              if (sel.previousSibling && sel.previousSibling.textContent.includes('Premium Body Material')) {
                const show = sel.value === 'Crystal Titanium';
                const ctDiv = document.getElementById('crystalTitaniumColorContainer');
                if (ctDiv) ctDiv.classList.toggle('hidden', !show);
              }
              updateWeight();
            });
          });
        }, 0);
      } else if (style === 'slim') { // Premium Slim logic
        html += buildDidgetSelect();
        html += buildCageSelect();
        html += buildPlateSelect();
      }
      document.getElementById('styleOptions').innerHTML = html;
    }

    function buildColorSelect(label, options) {
      const capitalizedOptions = options
        .map(o => {
          const labelText = o.charAt(0).toUpperCase() + o.slice(1);
          const weight = weightMap[o];
          const isWeightRelevant = weightMap[o] !== undefined && weight > 0;
          const displayWeight = isWeightRelevant ? ` (${weight}g)` : '';
          return { value: o, label: `${labelText}${displayWeight}`, rawWeight: weight || 0, isWeightRelevant };
        })
        .sort((a, b) => a.rawWeight - b.rawWeight);
      return `
        <label>${label}:
          <select onchange="updateWeight()">
            <option value="">Select...</option>
            ${capitalizedOptions.map(o => `<option value="${o.value}" style="${!o.isWeightRelevant ? '' : o.rawWeight === 0 ? 'color: #ff4c4c;' : ''}">${o.label}</option>`).join('')}
          </select>
        </label>
      `;
    }

    function buildCageSelect(overrideOptions) {
      const options = overrideOptions || ['Aluminum - Light', 'Stainless Steel - Heavy', 'Brass - Heaviest', 'ED TPU Cage Set'];
      return buildColorSelect('Magnet Cage', options);
    }

    function buildPlateSelect(overrideOptions) {
      const options = overrideOptions || ['Stainless Steel', 'Zirconium', 'Teflon Beta Plates', 'Pro Stainless Steel Plates', 'Pro Swoosh Stainless Steel Plates', 'Pro Zirconium Plates'];
      return buildColorSelect('Plate Material', options);
    }

    function buildInlaySelect() {
      const options = ['Carbon Fiber Weave', 'Forged Carbon Fiber', 'Brass', 'Copper', 'Flamed Copper', 'Raw Titanium', 'Flamed Titanium', 'Purple Titanium', 'Blue Titanium', 'Yellow Titanium', 'Acid Titanium', 'Zirconium Inlay'];
      return buildColorSelect('Inlay Material', options);
    }

    function buildDidgetSelect() {
      const options = ['Aluminum', 'Brass', 'Copper', 'Ti', 'Blue Ti', 'Purple Ti', 'Yellow Ti', 'Flame Ti', 'Acid Ti'];
      return buildColorSelect('Slim Didget Material', options);
    }

    function buildMaterialSelect(label, options) {
      return buildColorSelect(label, options);
    }

    function updateWeight() {
      let base = 8;
      let total = base;

      const style = document.getElementById('budgetBodyStyle');
      if (style && weightMap[style.value]) {
        total += weightMap[style.value];
      }

      const selects = document.querySelectorAll('#styleOptions select');
      selects.forEach(sel => {
        const val = sel.value;
        if (val && weightMap[val]) {
          total += weightMap[val];
        }
      });

      document.getElementById('total').innerText = total.toFixed(2);
    }
  </script>
</body>
</html>
